<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Strategy Document ‚Äî Read-only Viewer</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #f6f7fb;
        --card: #fff;
        --sidebar-width: 280px;
        --primary-color: #2b6cb0;
        --text-primary: #1a202c;
        --text-secondary: #4a5568;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, Segoe UI,
          Roboto, Arial, sans-serif;
        background: var(--bg);
        color: var(--text-primary);
        line-height: 1.5;
      }
      .layout {
        display: flex;
        height: 100vh;
      }
      .sidebar {
        width: var(--sidebar-width);
        background: white;
        border-right: 1px solid #e2e8f0;
        height: 100%;
        overflow-y: auto;
        position: fixed;
        left: 0;
        top: 0;
        padding: 1.5rem 0;
        transition: width 200ms ease;
      }
      .sidebar.collapsed {
        width: 64px;
      }
      .sidebar .sidebar-section {
        padding: 0 0.5rem;
      }
      .sidebar-section {
        padding: 0 1.5rem;
        margin-bottom: 2rem;
      }
      .sidebar-section h2 {
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--text-secondary);
        margin-bottom: 0.75rem;
        font-weight: 600;
      }
      .nav-links {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .nav-links li {
        margin-bottom: 0.5rem;
      }
      .nav-links a {
        display: block;
        padding: 0.5rem 1rem;
        color: var(--text-primary);
        text-decoration: none;
        border-radius: 0.375rem;
        font-size: 0.9375rem;
        transition: all 0.2s;
      }
      .nav-links a:hover {
        background: #edf2f7;
        color: var(--primary-color);
      }
      .nav-links a.active {
        background: #ebf4ff;
        color: var(--primary-color);
        font-weight: 500;
      }
      .main-content {
        margin-left: var(--sidebar-width);
        flex: 1;
      }
      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.5rem 1rem;
        background: linear-gradient(90deg, #4b6cb7, #182848);
        color: white;
        height: 40px;
      }
      .title {
        font-size: 0.95rem;
        font-weight: 600;
      }
      .container {
        max-width: 100%;
        margin: 0;
        padding: 0;
        background: var(--card);
      }
      .viewer-wrap {
        height: calc(100vh - 40px); /* Subtracting reduced header height */
        border: none;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        position: relative;
      }

      /* Add scroll container styles */
      .scroll-container {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        overflow: auto;
        padding: 1rem;
      }
      .toolbar {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.25rem;
        background: transparent;
        border-bottom: none;
        position: fixed;
        top: 0.5rem;
        right: 1rem;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(8px);
        border-radius: 0.5rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .btn {
        background: var(--primary-color);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        text-decoration: none;
        border: 0;
        cursor: pointer;
        font-size: 0.75rem;
        font-weight: 500;
        transition: background-color 0.2s;
        min-width: 28px;
      }
      .btn:hover {
        background: #2c5282;
      }
      .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }
      .canvas-area {
        flex: 1;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        overflow: auto;
        padding: 1rem;
        background: #fff;
        position: relative;
      }
      canvas {
        max-width: none;
        height: auto;
        box-shadow: none;
        margin-top: 1rem;
      }
      .meta {
        font-size: 0.875rem;
        color: var(--text-secondary);
        font-weight: 500;
      }
      /* Progress indicator */
      .progress-indicator {
        position: fixed;
        top: 0;
        left: var(--sidebar-width);
        right: 0;
        height: 3px;
        background: #e2e8f0;
        z-index: 100;
      }
      .progress-bar {
        height: 100%;
        background: var(--primary-color);
        width: 0;
        transition: width 0.3s ease;
      }
      /* Read-only guards */
      .viewer-wrap,
      .viewer-wrap * {
        user-select: none;
        -webkit-user-select: none;
      }
      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-100%);
          transition: transform 0.3s ease;
        }
        .sidebar.active {
          transform: translateX(0);
        }
        .main-content {
          margin-left: 0;
        }
        .mobile-menu-btn {
          display: block;
        }
        .container {
          max-width: 100%;
          margin: 1rem;
        }
      }
      .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        color: white;
        padding: 0.5rem;
        cursor: pointer;
      }
      /* Custom scrollbar for sidebar */
      .sidebar::-webkit-scrollbar {
        width: 6px;
      }
      .sidebar::-webkit-scrollbar-track {
        background: #f8fafc;
      }
      .sidebar::-webkit-scrollbar-thumb {
        background: #cbd5e0;
        border-radius: 3px;
      }
      .sidebar::-webkit-scrollbar-thumb:hover {
        background: #a0aec0;
      }
    </style>
  </head>
  <body>
    <div class="layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-section">
          <h3 class="text-gray-100">Ghana EdTech <br> <span class="text-gray-100">Strategy</span></h3>
          <ul class="nav-links">
            <li>
              <a href="#" data-page="17" class="active">Executive Summary</a>
            </li>
            <li><a href="#" data-page="18">Introduction & Rationale</a></li>
            <li><a href="#" data-page="19">Vision & Mission</a></li>
            <li><a href="#" data-page="20">Objectives & Scope</a></li>
          </ul>
        </div>

        <div class="sidebar-section">
          <h2>Thematic Areas</h2>
          <ul class="nav-links">
            <li><a href="#" data-page="22">1. Governance & Management</a></li>
            <li>
              <a href="#" data-page="40">2. Infrastructure & Connectivity</a>
            </li>
            <li><a href="#" data-page="46">3. Content Development</a></li>
            <li><a href="#" data-page="51">4. Capacity Building</a></li>
            <li><a href="#" data-page="56">5. Curriculum Integration</a></li>
            <li><a href="#" data-page="67">6. Inclusivity & Access</a></li>
            <li><a href="#" data-page="82">7. Cybersecurity & Data</a></li>
            <li><a href="#" data-page="94">8. Data Management</a></li>
            <li><a href="#" data-page="108">9. Innovation & Learning</a></li>
          </ul>
        </div>

        <div class="sidebar-section">
          <h2>Supporting Content</h2>
          <ul class="nav-links">
            <li><a href="#" data-page="11">Foreword</a></li>
            <li><a href="#" data-page="13">Acknowledgements</a></li>
            <li><a href="#" data-page="14">Abbreviations</a></li>
            <li><a href="#" data-page="15">Definition of Terms</a></li>
          </ul>
        </div>
      </aside>

      <!-- Progress Indicator -->
      <div class="progress-indicator">
        <div class="progress-bar" id="readingProgress"></div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <div class="topbar">
          <button class="mobile-menu-btn" id="menuToggle">‚ò∞</button>
          <div class="title">Ghana EdTech Strategy Document</div>
          <div class="meta">Viewing: <strong>Strategy Document</strong></div>
        </div>

        <main class="container" role="main">
          <div class="viewer-wrap" id="viewerWrap" aria-live="polite">
            <div class="toolbar">
              <div>
                <!-- Home button links back to the site's homepage -->
                <a href="index.html" class="btn" title="Home" aria-label="Home">üè†</a>
                <button id="prev" class="btn" title="Previous page" aria-label="Previous page">‚óÄ</button>
                <button id="next" class="btn" title="Next page" aria-label="Next page">‚ñ∂</button>
              </div>
              <div class="meta">
                Page <span id="page_num">1</span> /
                <span id="page_count">‚Äî</span>
              </div>
              <div>
                <button id="zoomOut" class="btn" title="Zoom out" aria-label="Zoom out">‚àí</button>
                <button id="zoomIn" class="btn" title="Zoom in" aria-label="Zoom in">+</button>
              </div>
            </div>

            <div class="canvas-area" id="canvasArea">
              <canvas id="pdfCanvas"></canvas>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script>
      // PDF Configuration
      const PDF_PATH = "asset/Strategy Document.pdf";

      if (window["pdfjsLib"]) {
        pdfjsLib.GlobalWorkerOptions.workerSrc =
          "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";
      }

      // DOM Elements
      const canvas = document.getElementById("pdfCanvas");
      const ctx = canvas.getContext("2d");
      const pageNumSpan = document.getElementById("page_num");
      const pageCountSpan = document.getElementById("page_count");
      const prevBtn = document.getElementById("prev");
      const nextBtn = document.getElementById("next");
      const zoomIn = document.getElementById("zoomIn");
      const zoomOut = document.getElementById("zoomOut");
      const menuToggle = document.getElementById("menuToggle");
      const sidebar = document.querySelector(".sidebar");
      const progressBar = document.getElementById("readingProgress");

      // State
      let pdfDoc = null;
      let pageNum = 1;
      let scale = 1.0;

      // Load document
      const loadingTask = pdfjsLib.getDocument(encodeURI(PDF_PATH));
      loadingTask.promise
        .then(function (pdf) {
          pdfDoc = pdf;
          pageCountSpan.textContent = pdf.numPages;
          renderPage(pageNum);
          updateReadingProgress();
        })
        .catch(function (err) {
          console.error("Error loading PDF:", err);
          document.getElementById("canvasArea").innerHTML =
            '<div style="padding:20px;color:#dc2626">Unable to load document. Please ensure the PDF file exists in the specified location.</div>';
        });

      // Render page
      function renderPage(num) {
        // Store current scroll position
        const scrollArea = document.querySelector(".canvas-area");
        const scrollRatio = scrollArea.scrollTop / scrollArea.scrollHeight;

        pdfDoc.getPage(num).then(function (page) {
          const viewport = page.getViewport({ scale: scale });
          canvas.height = viewport.height;
          canvas.width = viewport.width;

          const renderContext = {
            canvasContext: ctx,
            viewport: viewport,
          };

          page.render(renderContext).promise.then(function () {
            pageNumSpan.textContent = num;
            prevBtn.disabled = num <= 1;
            nextBtn.disabled = num >= pdfDoc.numPages;
            updateReadingProgress();

            // Restore scroll position after render
            requestAnimationFrame(() => {
              scrollArea.scrollTop = scrollArea.scrollHeight * scrollRatio;
            });
          });
        });
      }

      // Update progress bar
      function updateReadingProgress() {
        const progress = (pageNum / pdfDoc.numPages) * 100;
        progressBar.style.width = `${progress}%`;
      }

      // Event listeners
      prevBtn.addEventListener("click", () => {
        if (pageNum > 1) {
          pageNum--;
          renderPage(pageNum);
        }
      });

      nextBtn.addEventListener("click", () => {
        if (pageNum < pdfDoc.numPages) {
          pageNum++;
          renderPage(pageNum);
        }
      });

      zoomIn.addEventListener("click", () => {
        scale = Math.min(scale + 0.25, 3);
        renderPage(pageNum);
      });

      zoomOut.addEventListener("click", () => {
        scale = Math.max(scale - 0.25, 0.5);
        renderPage(pageNum);
      });

      menuToggle.addEventListener("click", () => {
        sidebar.classList.toggle("active");
      });

      // Handle navigation links
      document.querySelectorAll(".nav-links a").forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          document
            .querySelectorAll(".nav-links a")
            .forEach((a) => a.classList.remove("active"));
          e.target.classList.add("active");

          // Navigate to the specified page
          const targetPage = parseInt(e.target.getAttribute("data-page"));
          if (targetPage && targetPage <= pdfDoc.numPages) {
            pageNum = targetPage;
            renderPage(pageNum);
            updateReadingProgress();
          }

          if (window.innerWidth <= 768) {
            sidebar.classList.remove("active");
          }
        });
      });

      // Keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowRight" || e.key === "ArrowDown") {
          if (pageNum < pdfDoc.numPages) {
            pageNum++;
            renderPage(pageNum);
          }
        } else if (e.key === "ArrowLeft" || e.key === "ArrowUp") {
          if (pageNum > 1) {
            pageNum--;
            renderPage(pageNum);
          }
        }
      });

      // Read-only protection
      const viewerWrap = document.getElementById("viewerWrap");
      viewerWrap.addEventListener("contextmenu", (e) => e.preventDefault());

      document.addEventListener("keydown", (e) => {
        if (e.ctrlKey || e.metaKey) {
          const blocked = ["s", "p", "S", "P", "c", "C"];
          if (blocked.includes(e.key)) {
            e.preventDefault();
            return false;
          }
        }
      });

      canvas.addEventListener("mousedown", (e) => e.preventDefault());
      canvas.addEventListener("dragstart", (e) => e.preventDefault());

      // Responsive handling
      window.addEventListener("resize", () => {
        renderPage(pageNum);
      });

      // Custom scroll behavior for navigation
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const section = document.querySelector(this.getAttribute("href"));
          if (section) {
            section.scrollIntoView({
              behavior: "smooth",
            });
          }
        });
      });
    </script>
  </body>
</html>
