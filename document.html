<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Ghana EdTech Strategy Document</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600&family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <style>
      :root {
        --bg: #e8e8e8;
        --page-bg: #ffffff;
        --sidebar-width: 280px;
        --primary-color: #2b6cb0;
        --text-primary: #1a1a1a;
        --text-secondary: #4a4a4a;
        --accent: #d4a574;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
        margin: 0;
        font-family: "Lora", Georgia, serif;
        background: var(--bg);
        color: var(--text-primary);
      }

      .layout {
        display: flex;
        height: 100vh;
      }

      /* Sidebar Navigation */
      .sidebar {
        width: var(--sidebar-width);
        background: white;
        border-right: 1px solid #d0d0d0;
        height: 100%;
        overflow-y: auto;
        position: fixed;
        left: 0;
        top: 0;
        padding: 0;
        z-index: 1000;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .sidebar-header {
        padding: 1.25rem;
        border-bottom: 2px solid #e2e8f0;
        position: sticky;
        top: 0;
        background: white;
        z-index: 10;
      }

      .back-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: none;
        border: none;
        color: var(--primary-color);
        font-size: 0.9rem;
        font-weight: 600;
        cursor: pointer;
        padding: 0.5rem 0.75rem;
        border-radius: 0.375rem;
        transition: all 0.2s;
        margin-bottom: 0.75rem;
        font-family: "Inter", sans-serif;
      }

      .back-btn:hover {
        background: #edf2f7;
        color: #1e3a5f;
      }

      .sidebar-title {
        font-size: 0.95rem;
        font-weight: 700;
        color: var(--text-primary);
        margin: 0;
        font-family: "Inter", sans-serif;
        letter-spacing: 0.5px;
      }

      .sidebar-content {
        padding: 1.25rem 0;
      }

      .sidebar-section {
        padding: 0 0.75rem;
        margin-bottom: 1.75rem;
      }

      .sidebar-section h3 {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: #888;
        margin: 0 1rem 0.75rem;
        font-family: "Inter", sans-serif;
        font-weight: 600;
      }

      .nav-links {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .nav-links li {
        margin-bottom: 0.25rem;
      }

      .nav-links a {
        display: block;
        padding: 0.6rem 1rem;
        color: var(--text-secondary);
        text-decoration: none;
        border-radius: 0.375rem;
        font-size: 0.9rem;
        transition: all 0.2s;
        border-left: 3px solid transparent;
        font-family: "Inter", sans-serif;
      }

      .nav-links a:hover {
        background: #f0f4f8;
        color: var(--primary-color);
        padding-left: 1.1rem;
      }

      .nav-links a.active {
        background: #e8f1ff;
        color: var(--primary-color);
        font-weight: 600;
        border-left-color: var(--primary-color);
      }

      /* Main Content */
      .main-content {
        margin-left: var(--sidebar-width);
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.75rem 1.5rem;
        background: linear-gradient(90deg, #2c5282, #1a365d);
        color: white;
        height: 50px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .title {
        font-size: 1rem;
        font-weight: 600;
        font-family: "Inter", sans-serif;
      }

      .meta {
        font-size: 0.8rem;
        opacity: 0.9;
        font-family: "Inter", sans-serif;
      }

      .container {
        flex: 1;
        overflow: hidden;
        background: var(--bg);
      }

      .viewer-wrap {
        height: 100%;
        overflow-y: auto;
        overflow-x: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 2rem 1rem;
        scroll-behavior: smooth;
      }

      .toolbar {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 0.75rem 1.5rem;
        background: white;
        border-bottom: 1px solid #e0e0e0;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .btn {
        background: var(--primary-color);
        color: white;
        padding: 0.6rem 1rem;
        border-radius: 0.375rem;
        text-decoration: none;
        border: none;
        cursor: pointer;
        font-size: 0.85rem;
        font-weight: 500;
        transition: all 0.2s;
        font-family: "Inter", sans-serif;
      }

      .btn:hover {
        background: #1e3a5f;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      }

      .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      /* PDF-style Document (HTML sections) */
      .document-wrapper {
        width: 100%;
        max-width: 850px;
        background: var(--page-bg);
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        border-radius: 2px;
        padding: 2rem;
      }

      .document-section {
        scroll-margin-top: 100px;
        margin-bottom: 2.5rem;
      }

      .document-section h2 {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--primary-color);
        margin: 2rem 0 1.25rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--accent);
        page-break-after: avoid;
      }

      .document-section h3 {
        font-size: 1.3rem;
        font-weight: 600;
        color: var(--text-primary);
        margin: 1.5rem 0 0.75rem;
        page-break-after: avoid;
      }

      .document-section p {
        font-size: 1rem;
        line-height: 1.8;
        color: var(--text-primary);
        margin-bottom: 1rem;
        text-align: justify;
        text-indent: 1.5rem;
      }

      .document-section p:first-of-type {
        text-indent: 0;
      }

      .document-section ul,
      .document-section ol {
        font-size: 1rem;
        line-height: 1.8;
        color: var(--text-primary);
        margin: 1rem 0 1rem 1.5rem;
      }

      .document-section li {
        margin-bottom: 0.75rem;
      }

      .quote {
        border-left: 4px solid var(--accent);
        padding: 1rem 0 1rem 1.5rem;
        margin: 1.5rem 0;
        font-size: 0.95rem;
        font-style: italic;
        color: #555;
        background: #fafaf8;
      }

      .highlight-box {
        background: #f0f4f8;
        border: 1px solid var(--primary-color);
        border-left: 4px solid var(--primary-color);
        padding: 1.25rem;
        margin: 1.5rem 0;
        border-radius: 0.375rem;
      }

      .highlight-box h4 {
        margin-top: 0;
        color: var(--primary-color);
        font-family: "Inter", sans-serif;
      }

      .page-number {
        text-align: center;
        margin-top: 2rem;
        padding-top: 1rem;
        border-top: 1px solid #e0e0e0;
        font-size: 0.85rem;
        color: #999;
        font-family: "Inter", sans-serif;
      }

      /* Progress indicator */
      .progress-indicator {
        position: fixed;
        top: 50px;
        left: var(--sidebar-width);
        right: 0;
        height: 3px;
        background: #e2e8f0;
        z-index: 100;
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, var(--primary-color), var(--accent));
        width: 0;
        transition: width 0.3s ease;
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-100%);
          transition: transform 0.3s ease;
          width: 70%;
          max-width: 280px;
        }

        .sidebar.active {
          transform: translateX(0);
        }

        .main-content {
          margin-left: 0;
        }

        .progress-indicator {
          left: 0;
        }

        .viewer-wrap {
          padding: 1rem 0.5rem;
        }

        .document-wrapper {
          padding: 1rem;
        }

        .doc-title {
          font-size: 1.6rem;
        }

        .document-section h2 {
          font-size: 1.4rem;
        }
      }

      .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        color: white;
        font-size: 1.25rem;
        padding: 0;
        cursor: pointer;
      }

      @media (max-width: 768px) {
        .mobile-menu-btn {
          display: block;
        }
      }

      /* Scrollbars */
      .sidebar::-webkit-scrollbar {
        width: 6px;
      }

      .sidebar::-webkit-scrollbar-track {
        background: #f8fafc;
      }

      .sidebar::-webkit-scrollbar-thumb {
        background: #cbd5e0;
        border-radius: 3px;
      }

      .sidebar::-webkit-scrollbar-thumb:hover {
        background: #a0aec0;
      }

      .viewer-wrap::-webkit-scrollbar {
        width: 8px;
      }

      .viewer-wrap::-webkit-scrollbar-track {
        background: #e8e8e8;
      }

      .viewer-wrap::-webkit-scrollbar-thumb {
        background: #999;
        border-radius: 4px;
      }

      .viewer-wrap::-webkit-scrollbar-thumb:hover {
        background: #666;
      }

      /* Print Styles */
      @media print {
        .sidebar,
        .topbar,
        .toolbar,
        .progress-indicator {
          display: none;
        }

        .main-content {
          margin-left: 0;
        }

        .viewer-wrap {
          padding: 0;
        }

        .document-page {
          page-break-after: always;
          box-shadow: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="layout">
      <!-- Sidebar Navigation -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <button class="back-btn" id="backBtn" title="Return to Documents">
            ‚Üê Back
          </button>
          <h3 class="sidebar-title">Contents</h3>
        </div>

        <div class="sidebar-content">
          <div class="sidebar-section">
            <h3>Front Matter</h3>
            <ul class="nav-links">
              <li>
                <a href="#executive-summary" class="nav-link active" data-section="executive-summary">Executive Summary</a>
              </li>
              <li>
                <a href="#introduction" class="nav-link" data-section="introduction">Introduction</a>
              </li>
              <li>
                <a href="#vision" class="nav-link" data-section="vision">Vision & Mission</a>
              </li>
            </ul>
          </div>

          <div class="sidebar-section">
            <h3>Thematic Areas</h3>
            <ul class="nav-links">
              <li>
                <a href="#governance" class="nav-link" data-section="governance">Governance & Management</a>
              </li>
              <li>
                <a href="#infrastructure" class="nav-link" data-section="infrastructure">Infrastructure & Connectivity</a>
              </li>
              <li>
                <a href="#content" class="nav-link" data-section="content">Content Development</a>
              </li>
              <li>
                <a href="#capacity" class="nav-link" data-section="capacity">Capacity Building</a>
              </li>
              <li>
                <a href="#curriculum" class="nav-link" data-section="curriculum">Curriculum Integration</a>
              </li>
              <li>
                <a href="#inclusivity" class="nav-link" data-section="inclusivity">Inclusivity & Access</a>
              </li>
              <li>
                <a href="#cybersecurity" class="nav-link" data-section="cybersecurity">Cybersecurity & Data</a>
              </li>
              <li>
                <a href="#innovation" class="nav-link" data-section="innovation">Innovation & Learning</a>
              </li>
              <li>
                <a href="#data-management" class="nav-link" data-section="data-management">Data Management & Reporting</a>
              </li>
              <li>
                <a href="#data-protection" class="nav-link" data-section="data-protection">Data Protection</a>
              </li>
              <li>
                <a href="#experiential" class="nav-link" data-section="experiential">Experiential Learning & Innovations</a>
              </li>
              <li>
                <a href="#monitoring" class="nav-link" data-section="monitoring">Monitoring & Evaluation</a>
              </li>
              <li>
                <a href="#sustainability" class="nav-link" data-section="sustainability">Sustainable & Financially Inclusive Systems</a>
              </li>
              <li>
                <a href="#conclusion" class="nav-link" data-section="conclusion">Conclusion</a>
              </li>
            </ul>
          </div>

          <div class="sidebar-section">
            <h3>Appendix</h3>
            <ul class="nav-links">
              <li>
                <a href="#definitions" class="nav-link" data-section="definitions">Definitions</a>
              </li>
              <li>
                <a href="#abbreviations" class="nav-link" data-section="abbreviations">Abbreviations</a>
              </li>
            </ul>
          </div>
        </div>
      </aside>

      <!-- Progress Bar -->
      <div class="progress-indicator">
        <div class="progress-bar" id="readingProgress"></div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <div class="topbar">
          <button class="mobile-menu-btn" id="menuToggle">‚ò∞</button>
          <div class="title">Ghana EdTech Strategy 2024</div>
          <div class="meta">Strategy Document</div>
        </div>

        <main class="container" role="main">
          <div class="viewer-wrap" id="viewerWrap">
            

            <div class="document-wrapper">
              <!-- Title Page -->
              <div class="document-page">
                <div class="doc-header">
                  <div class="doc-logo">üìö</div>
                  <p class="doc-subtitle">Ministry of Education</p>
                  <h1 class="doc-title">Ghana EdTech Strategy 2024-2030</h1>
                  <div class="doc-meta">
                    <p>Transforming Education Through Technology</p>
                    <p style="margin-top: 1rem; font-size: 0.85rem; color: #999">
                      Document Version 1.0 | Published: November 2024
                    </p>
                  </div>
                </div>
              </div>

              <!-- Executive Summary -->
              <div class="document-page">
                <section id="executive-summary" class="document-section">
                  <h2>Executive Summary</h2>
                  <p>
                    This comprehensive strategy document outlines Ghana's vision for integrating educational technology across all levels of the education system. The Ghana EdTech Strategy 2024-2030 represents a commitment to leveraging technology to enhance learning outcomes, increase accessibility, and prepare students for the digital economy.
                  </p>
                  <p>
                    The strategy addresses nine critical thematic areas, each with specific objectives and actionable initiatives designed to transform educational delivery and improve student achievement across the nation.
                  </p>
                  <div class="highlight-box">
                    <h4>Key Objectives:</h4>
                    <ul>
                      <li>Establish sustainable digital infrastructure in all educational institutions</li>
                      <li>Develop quality digital content aligned with national curriculum</li>
                      <li>Build educator capacity in technology-enhanced teaching</li>
                      <li>Ensure equitable access to technology for all learners</li>
                      <li>Implement robust cybersecurity and data protection measures</li>
                    </ul>
                  </div>
                </section>
              </div>

              <!-- Introduction -->
              <div class="document-page">
                <section id="introduction" class="document-section">
                  <h2>Introduction & Rationale</h2>
                  <p>
                    Education is the foundation of national development. In an increasingly digital world, Ghana recognizes that educational technology is no longer optional but essential for preparing citizens who can compete in the global economy.
                  </p>
                  <p>
                    The rapid advancement of technology presents both opportunities and challenges. Educational institutions must evolve to meet changing societal needs while ensuring that no learner is left behind due to digital divide or lack of resources.
                  </p>
                  <h3>Why EdTech Now?</h3>
                  <p>
                    The COVID-19 pandemic accelerated the adoption of digital learning tools worldwide. This experience demonstrated the critical importance of technology in education and the urgent need for comprehensive infrastructure and support systems.
                  </p>
                  <div class="quote">
                    "Education must evolve to meet the needs of our time. Technology is not a luxury‚Äîit is a necessity for equitable, quality education for all Ghanaians."
                  </div>
                </section>
              </div>

              <!-- Vision & Mission -->
              <div class="document-page">
                <section id="vision" class="document-section">
                  <h2>Vision & Mission</h2>
                  <h3>Vision</h3>
                  <p>
                    To create an inclusive, technology-enabled education system that empowers all learners in Ghana with the knowledge, skills, and competencies needed for personal growth and meaningful participation in the digital society.
                  </p>
                  <h3>Mission</h3>
                  <p>
                    To strategically implement educational technology across Ghana's education system by strengthening digital infrastructure, developing quality content, building educator capacity, ensuring equitable access, and establishing robust governance frameworks that prioritize student learning outcomes and societal impact.
                  </p>
                  <h3>Core Values</h3>
                  <ul>
                    <li><strong>Equity:</strong> Technology should reduce rather than increase educational disparities</li>
                    <li><strong>Quality:</strong> Technology must enhance learning, not replace quality teaching</li>
                    <li><strong>Sustainability:</strong> Solutions must be economically and environmentally sustainable</li>
                    <li><strong>Innovation:</strong> Continuous improvement through evidence-based approaches</li>
                    <li><strong>Accountability:</strong> Transparent implementation with measurable outcomes</li>
                  </ul>
                </section>
              </div>

              <!-- Governance -->
              <div class="document-page">
                <section id="governance" class="document-section">
                  <h2>1. Governance & Management</h2>
                  <p>
                    Effective governance structures are essential for coordinating EdTech initiatives across the vast educational landscape. This thematic area establishes institutional frameworks, defines stakeholder roles, and outlines implementation mechanisms.
                  </p>
                  <h3>Institutional Framework</h3>
                  <p>
                    A dedicated EdTech Directorate will be established within the Ministry of Education to oversee strategy implementation, coordinate with stakeholders, and monitor progress against key performance indicators.
                  </p>
                  <div class="highlight-box">
                    <h4>Key Initiatives:</h4>
                    <ul>
                      <li>Establish EdTech Directorate with trained personnel</li>
                      <li>Create inter-agency coordination mechanisms</li>
                      <li>Develop monitoring and evaluation framework</li>
                      <li>Implement risk management protocols</li>
                    </ul>
                  </div>
                </section>
              </div>

              <!-- Infrastructure -->
              <div class="document-page">
                <section id="infrastructure" class="document-section">
                  <h2>2. Infrastructure & Connectivity</h2>
                  <p>
                    Digital infrastructure forms the foundation for educational technology initiatives. This area focuses on expanding broadband connectivity, providing appropriate devices, and ensuring reliable power supply in all educational institutions.
                  </p>
                  <h3>Connectivity Goals</h3>
                  <ul>
                    <li>Achieve 95% broadband coverage in urban and peri-urban areas by 2027</li>
                    <li>Extend 4G connectivity to 80% of rural educational institutions by 2028</li>
                    <li>Install backup power systems in all schools by 2026</li>
                    <li>Provide devices to at least 1 device per 3 students by 2025</li>
                  </ul>
                </section>
              </div>

              <!-- Content Development -->
              <div class="document-page">
                <section id="content" class="document-section">
                  <h2>3. Content Development</h2>
                  <p>
                    Quality digital content is the lifeblood of effective technology-enabled learning. This thematic area addresses content creation, curation, localization, and accessibility standards.
                  </p>
                  <h3>Content Strategy</h3>
                  <p>
                    A national content repository will be developed featuring curriculum-aligned, interactive learning materials in multiple formats. Content will be available in both English and major Ghanaian languages to ensure accessibility.
                  </p>
                </section>
              </div>

              <!-- Capacity Building -->
              <div class="document-page">
                <section id="capacity" class="document-section">
                  <h2>4. Capacity Building</h2>
                  <p>
                    Teachers are central to successful EdTech implementation. Comprehensive professional development programs will equip educators with skills in technology integration, digital pedagogy, and online assessment.
                  </p>
                  <h3>Training Programs</h3>
                  <ul>
                    <li>Initial teacher training reform to include digital literacy</li>
                    <li>In-service training for 50,000+ teachers annually</li>
                    <li>Specialized training for school leaders on technology management</li>
                    <li>Peer mentoring and community of practice initiatives</li>
                  </ul>
                </section>
              </div>

              <!-- Curriculum Integration -->
              <div class="document-page">
                <section id="curriculum" class="document-section">
                  <h2>5. Curriculum Integration</h2>
                  <p>
                    Technology must be meaningfully integrated into the curriculum to enhance learning outcomes. This involves curriculum review, teacher support, and assessment reforms.
                  </p>
                  <h3>Integration Approach</h3>
                  <p>
                    Technology will be integrated both as a subject (digital literacy, coding) and as a tool across all subjects. The curriculum will emphasize critical thinking, problem-solving, and collaboration‚Äîskills essential in the digital age.
                  </p>
                </section>
              </div>

              <!-- Inclusivity -->
              <div class="document-page">
                <section id="inclusivity" class="document-section">
                  <h2>6. Inclusivity & Access</h2>
                  <p>
                    EdTech initiatives must reach marginalized learners including those in remote areas, students with disabilities, and economically disadvantaged populations. This area prioritizes equity in access and universal design principles.
                  </p>
                  <h3>Equity Commitments</h3>
                  <ul>
                    <li>Support for learners with visual and hearing impairments</li>
                    <li>Offline-capable resources for areas with poor connectivity</li>
                    <li>Multilingual content and interface options</li>
                    <li>Subsidized device programs for low-income students</li>
                  </ul>
                </section>
              </div>

              <!-- Cybersecurity -->
              <div class="document-page">
                <section id="cybersecurity" class="document-section">
                  <h2>7. Cybersecurity & Data Protection</h2>
                  <p>
                    As education becomes increasingly digital, protecting student data and ensuring secure learning environments is paramount. This area establishes security standards, privacy frameworks, and incident response protocols.
                  </p>
                  <h3>Security Framework</h3>
                  <ul>
                    <li>Implement GDPR and African Union standards for data protection</li>
                    <li>Conduct regular security audits and vulnerability assessments</li>
                    <li>Develop comprehensive cybersecurity awareness programs</li>
                    <li>Establish data breach notification and response procedures</li>
                  </ul>
                </section>
              </div>

              <!-- Innovation -->
              <div class="document-page">
                <section id="innovation" class="document-section">
                  <h2>8. Innovation & Emerging Technologies</h2>
                  <p>
                    This thematic area encourages experimentation with emerging technologies such as artificial intelligence, augmented reality, and blockchain while maintaining focus on educational outcomes.
                  </p>
                  <h3>Innovation Priorities</h3>
                  <ul>
                    <li>AI-powered personalized learning systems</li>
                    <li>Virtual and augmented reality applications</li>
                    <li>Blockchain-based credentialing systems</li>
                    <li>IoT sensors for learning analytics</li>
                  </ul>
                </section>
              </div>

              <!-- Definitions -->
              <div class="document-page">
                <section id="definitions" class="document-section">
                  <h2>Definitions & Terminology</h2>
                  <h3>Key Concepts</h3>
                  <p>
                    <strong>EdTech (Educational Technology):</strong> The application of technology to improve teaching, learning, and educational outcomes.
                  </p>
                  <p>
                    <strong>Digital Literacy:</strong> The ability to effectively use digital devices and the internet to find, evaluate, create, and communicate information.
                  </p>
                  <p>
                    <strong>Blended Learning:</strong> An instructional approach combining in-person and online learning experiences.
                  </p>
                  <p>
                    <strong>Learning Analytics:</strong> The measurement and analysis of learner data to optimize teaching and learning processes.
                  </p>
                </section>
              </div>

              <!-- Abbreviations -->
              <div class="document-page">
                <section id="abbreviations" class="document-section">
                  <h2>Abbreviations</h2>
                  <ul>
                    <li><strong>AI:</strong> Artificial Intelligence</li>
                    <li><strong>AR:</strong> Augmented Reality</li>
                    <li><strong>EdTech:</strong> Educational Technology</li>
                    <li><strong>GDPR:</strong> General Data Protection Regulation</li>
                    <li><strong>ICT:</strong> Information and Communication Technology</li>
                    <li><strong>IoT:</strong> Internet of Things</li>
                    <li><strong>LMS:</strong> Learning Management System</li>
                    <li><strong>MOOC:</strong> Massive Open Online Course</li>
                    <li><strong>VR:</strong> Virtual Reality</li>
                  </ul>
                </section>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script>
      // DOM Elements
      const viewerWrap = document.getElementById("viewerWrap");
      const navLinks = document.querySelectorAll(".nav-link");
      const backBtn = document.getElementById("backBtn");
      const menuToggle = document.getElementById("menuToggle");
      const sidebar = document.querySelector(".sidebar");
      const progressBar = document.getElementById("readingProgress");
      const documentWrapper = document.querySelector('.document-wrapper');

      // Back button functionality
      backBtn.addEventListener("click", () => {
        window.location.href = "index.html#documents";
      });

      // Mobile menu toggle
      menuToggle.addEventListener("click", () => {
        sidebar.classList.toggle("active");
      });

      // Close sidebar on link click (mobile)
      navLinks.forEach((link) => {
        link.addEventListener("click", () => {
          if (window.innerWidth <= 768) {
            sidebar.classList.remove("active");
          }
        });
      });

      // ------------------- PDF.js integration -------------------
      // Use the attached PDF as the source. This will render each page
      // as a canvas appended to .document-wrapper to create a continuous scroll.
      let pdfDoc = null;
      let renderedPages = new Set();
      let pageCanvases = {};
      let currentScale = 1;
      let fitToWidth = true;

      // Set up PDF.js worker
      if (window.pdfjsLib) {
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
      }

      // Helper: create and render a page canvas
      function renderPage(pageNum) {
        if (renderedPages.has(pageNum) || !pdfDoc) return Promise.resolve();

        return pdfDoc.getPage(pageNum).then((page) => {
          // compute scale to fit container width when requested
          const containerWidth = Math.max(300, documentWrapper.clientWidth - 4);
          let viewport = page.getViewport({ scale: 1 });
          let scale = currentScale;
          if (fitToWidth) {
            scale = containerWidth / viewport.width;
            viewport = page.getViewport({ scale });
          } else {
            viewport = page.getViewport({ scale });
          }

          // create canvas
          const canvas = document.createElement('canvas');
          canvas.className = 'pdf-canvas';
          canvas.dataset.pageNum = pageNum;
          // Set size for crisp rendering on high-DPI
          const outputScale = window.devicePixelRatio || 1;
          canvas.width = Math.floor(viewport.width * outputScale);
          canvas.height = Math.floor(viewport.height * outputScale);
          canvas.style.width = Math.floor(viewport.width) + 'px';
          canvas.style.height = Math.floor(viewport.height) + 'px';

          const ctx = canvas.getContext('2d');
          if (outputScale !== 1) {
            ctx.setTransform(outputScale, 0, 0, outputScale, 0, 0);
          }

          const renderContext = {
            canvasContext: ctx,
            viewport: viewport
          };

          // insert a placeholder while rendering
          const placeholder = document.createElement('div');
          placeholder.className = 'pdf-page-placeholder';
          placeholder.style.height = Math.floor(viewport.height) + 'px';
          placeholder.style.width = '100%';

          // Append canvas (after rendering we replace placeholder)
          documentWrapper.appendChild(placeholder);

          return page.render(renderContext).promise.then(() => {
            documentWrapper.replaceChild(canvas, placeholder);
            pageCanvases[pageNum] = canvas;
            renderedPages.add(pageNum);
            return canvas;
          });
        });
      }

      function renderAllPages() {
        if (!pdfDoc) return;
        // clear wrapper and render pages progressively
        documentWrapper.innerHTML = '';
        renderedPages.clear();
        pageCanvases = {};

        // Render first few pages eagerly to improve perceived performance
        const initial = Math.min(3, pdfDoc.numPages);
        const promises = [];
        for (let i = 1; i <= initial; i++) {
          promises.push(renderPage(i));
        }

        Promise.all(promises).then(() => {
          // After initial render, schedule lazy rendering of remaining pages
          lazyRenderAroundViewport();
          updatePageCounter();
        }).catch(console.error);
      }

      // Update page counter / progress based on which canvas is visible
      function updatePageCounter() {
        if (!pdfDoc) return;

        const scrollTop = viewerWrap.scrollTop;
        let currentPage = 1;

        for (let i = 1; i <= pdfDoc.numPages; i++) {
          const canvas = pageCanvases[i];
          if (canvas) {
            const canvasTop = canvas.offsetTop - viewerWrap.offsetTop;
            if (scrollTop >= canvasTop - 200) {
              currentPage = i;
            } else {
              break;
            }
          }
        }

        // update progress bar
        const percent = (currentPage / pdfDoc.numPages) * 100;
        progressBar.style.width = `${percent}%`;

        // approximate mapping from pages to sidebar sections
        updateSidebarByPage(currentPage);
      }

      // Page-to-section mapping: each sidebar link mapped to its starting PDF page
      // Updated from the attached PDF (user-provided mapping)
      const sectionPageMap = {
        'executive-summary': 17,
        'introduction': 18,
        'vision': 19,
        'governance': 22,
        'infrastructure': 34,
        'content': 46,
        'capacity': 51,
        'curriculum': 56,
        'inclusivity': 67,
        'innovation': 75,
        'cybersecurity': 82,
        'data-management': 94,
        'data-protection': 100,
        'experiential': 108,
        'monitoring': 123,
        'sustainability': 129,
        'conclusion': 132,
        'definitions': 15,
        'abbreviations': 32
      };

      // Update sidebar highlight based on current PDF page
      function updateSidebarByPage(pageNum) {
        if (!navLinks || navLinks.length === 0) return;
        
        // Find which section the current page falls into
        let activeSection = null;
        const pageArray = Object.entries(sectionPageMap).sort((a, b) => a[1] - b[1]);
        
        for (let i = pageArray.length - 1; i >= 0; i--) {
          if (pageNum >= pageArray[i][1]) {
            activeSection = pageArray[i][0];
            break;
          }
        }
        
        // Update active class
        navLinks.forEach(link => link.classList.remove('active'));
        if (activeSection) {
          const activeLink = document.querySelector(`.nav-link[data-section="${activeSection}"]`);
          if (activeLink) activeLink.classList.add('active');
        }
      }

      // Lazy-render pages near viewport
      let scrollLazyTimer = null;
      function lazyRenderAroundViewport() {
        if (!pdfDoc) return;
        clearTimeout(scrollLazyTimer);
        scrollLazyTimer = setTimeout(() => {
          const scrollTop = viewerWrap.scrollTop;
          const viewportHeight = viewerWrap.clientHeight;
          for (let i = 1; i <= pdfDoc.numPages; i++) {
            if (!renderedPages.has(i)) {
              // estimate position: if page placeholder exists, use offset, otherwise use index
              const estimatedPos = (pageCanvases[i] && pageCanvases[i].offsetTop) || (i - 1) * 800;
              if (estimatedPos < scrollTop + viewportHeight * 2 && estimatedPos > scrollTop - viewportHeight) {
                renderPage(i).catch(console.error);
              }
            }
          }
        }, 120);
      }

      // Load PDF from asset folder
      const pdfPath = 'asset/Strategy Document.pdf';

      function loadPdfAndRender() {
        if (!window.pdfjsLib) return;
        pdfjsLib.getDocument(pdfPath).promise.then((doc) => {
          pdfDoc = doc;
          // clear existing HTML 'sections' and render pages
          renderAllPages();
        }).catch((err) => {
          console.error('Error loading PDF:', err);
        });
      }

      // Listen to scroll events for progress and lazy rendering
      viewerWrap.addEventListener('scroll', () => {
        updatePageCounter();
        lazyRenderAroundViewport();
      });

      // handle resize: re-render to fit width
      window.addEventListener('resize', () => {
        if (fitToWidth && pdfDoc) {
          // re-render pages to adapt to new width
          renderAllPages();
        }
        if (window.innerWidth > 768) {
          sidebar.classList.remove('active');
        }
      });

      // Start loading the PDF if PDF.js is available
      if (window.pdfjsLib) {
        loadPdfAndRender();
      } else {
        // In rare cases the CDN may fail; attempt to load when available
        window.addEventListener('load', () => {
          if (window.pdfjsLib) loadPdfAndRender();
        });
      }

      // ------------------- end PDF.js integration -------------------

      // Intersection Observer originally used for HTML sections (kept for fallback)
      const observerOptions = {
        root: viewerWrap,
        rootMargin: "-50% 0px -50% 0px",
        threshold: 0,
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const sectionId = entry.target.id;
            // Remove active class from all links
            navLinks.forEach((link) => link.classList.remove("active"));
            // Add active class to corresponding link
            const activeLink = document.querySelector(
              `.nav-link[data-section="${sectionId}"]`
            );
            if (activeLink) {
              activeLink.classList.add("active");
            }
            // Update reading progress
            updatePageCounter();
          }
        });
      }, observerOptions);

      // Observe all sections (will be no-ops when PDF is rendered and sections removed)
      document.querySelectorAll(".document-section").forEach((section) => {
        observer.observe(section);
      });

      // Smooth scroll to section
      navLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const sectionId = link.getAttribute("data-section");
          const targetPage = sectionPageMap[sectionId];
          
          if (targetPage && pdfDoc) {
            // Ensure page is rendered
            renderPage(targetPage).then(() => {
              const canvas = pageCanvases[targetPage];
              if (canvas) {
                canvas.scrollIntoView({ behavior: 'smooth', block: 'start' });
              }
            }).catch(console.error);
          }
        });
      });

      // Read-only protections (unchanged)
      viewerWrap.addEventListener("contextmenu", (e) => e.preventDefault());

      document.addEventListener("keydown", (e) => {
        if (e.ctrlKey || e.metaKey) {
          const blocked = ["s", "p", "S", "P", "c", "C"];
          if (blocked.includes(e.key)) {
            e.preventDefault();
            return false;
          }
        }
      });

      // Prevent drag selection
      viewerWrap.addEventListener("mousedown", (e) => {
        if (e.detail > 1) {
          e.preventDefault();
        }
      });
    </script>
  </body>
</html>
